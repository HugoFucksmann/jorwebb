{"version":3,"file":"static/js/504.630f4fa5.chunk.js","mappings":"8LAsDA,YApDA,MACI,SAAIA,GACA,OAAOC,aAAaC,QAAQ,UAAY,EAC5C,CACA,WAAIC,GACA,MAAO,CACHA,QAAS,CACL,UAAWC,KAAKJ,OAG5B,CAEA,WAAMK,CAAMC,EAASC,EAAUC,GAC3BC,QAAQC,IAAI,GAADC,OAAIC,gFAAyB,WACxC,UACUC,EAAAA,EACDC,KAAK,GAADH,OAAIC,gFAAyB,UAAU,CACxCN,UACAC,aAEHQ,MAAMC,IACHf,aAAagB,QAAQ,QAASD,EAAKE,KAAKlB,OAExCQ,EAAMW,QAAQC,KAAK,SAAS,IAE/BC,OAAOC,IACJb,QAAQC,IAAIY,GACZC,MAAM,qBAAsB,GAAI,QAAQ,GAEpD,CAAE,MAAOC,GACLf,QAAQC,IAAIc,EAChB,CACJ,CAEAC,MAAAA,CAAOjB,GACHJ,KAAKsB,eAAgB,EACrBlB,EAAMW,QAAQC,KAAK,KACnBnB,aAAa0B,WAAW,QAC5B,CAEAC,YAAAA,GACI,OAAOf,EAAAA,EACFgB,IAAI,GAADlB,OAAIC,gFAAyB,gBAAgBR,KAAKD,SACrDY,MAAMC,GAASP,QAAQC,IAAIM,IACpC,G,aC1CJ,MA0DA,EA1DeR,IACX,MAAOF,EAASwB,IAAcC,EAAAA,EAAAA,UAAS,KAChCxB,EAAUyB,IAAeD,EAAAA,EAAAA,UAAS,IAUzC,OACIE,EAAAA,EAAAA,KAACC,EAAAA,EAAI,CACDC,WAAS,EACTC,QAAS,EACTC,UAAU,SACVC,WAAW,SACXC,QAAQ,SACRC,MAAO,CAAEC,UAAW,SAAUC,UAE9BC,EAAAA,EAAAA,MAACC,EAAAA,EAAK,CACFC,UAAW,EACXL,MAAO,CACHM,cAAe,SACfC,QAAS,OACTC,QAAS,IACXN,SAAA,EAEFT,EAAAA,EAAAA,KAACgB,EAAAA,EAAS,CACNC,QAAQ,WACRC,GAAG,iBACHC,MAAM,UACNZ,MAAO,CAAEa,aAAc,IACvBC,MAAOhD,EACPiD,SAAW/B,GAAMM,EAAWN,EAAEgC,OAAOF,UAEzCrB,EAAAA,EAAAA,KAACgB,EAAAA,EAAS,CACNC,QAAQ,WACRC,GAAG,iBACHC,MAAM,kBACNZ,MAAO,CAAEa,aAAc,IACvBC,MAAO/C,EACPgD,SAAW/B,GAAMQ,EAAYR,EAAEgC,OAAOF,UAE1CrB,EAAAA,EAAAA,KAACwB,EAAAA,EAAM,CACHC,WAzCLpD,EAAQqD,OAAS,GAAKpD,EAASoD,OAAS,GA0CnCT,QAAQ,YACRU,MAAM,UACNC,QAASA,IAzCzBC,iBACIC,EAAK1D,MAAMC,EAASC,EAAUC,EAClC,CAuC+BwD,GAAetB,SACjC,gBAIF,C","sources":["helpers/auth.js","pages/login.js"],"sourcesContent":["import axios from 'axios';\n\nclass Auth {\n    get token() {\n        return localStorage.getItem('token') || '';\n    }\n    get headers() {\n        return {\n            headers: {\n                'x-token': this.token\n            }\n        };\n    }\n\n    async login(usuario, password, props) {\n        console.log(`${process.env.REACT_APP_URL}/login`);\n        try {\n            await axios\n                .post(`${process.env.REACT_APP_URL}/login`, {\n                    usuario,\n                    password\n                })\n                .then((resp) => {\n                    localStorage.setItem('token', resp.data.token);\n                    //this.authenticated = true;\n                    props.history.push('/fform');\n                })\n                .catch((err) => {\n                    console.log(err);\n                    alert('error al loguearse', '', 'error');\n                });\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    logout(props) {\n        this.authenticated = false;\n        props.history.push('/');\n        localStorage.removeItem('token');\n    }\n\n    validarToken() {\n        return axios\n            .get(`${process.env.REACT_APP_URL}/login/renew`, this.headers)\n            .then((resp) => console.log(resp));\n    }\n\n    /* isAuthenticated() {\n    console.log(this.authenticated);\n    return this.authenticated\n  } */\n}\n\nexport default new Auth();\n","import React, { useState } from 'react';\nimport { Button, Grid, Paper, TextField } from '@material-ui/core';\nimport auth from '../helpers/auth';\n\nconst Login = (props) => {\n    const [usuario, setUsuario] = useState('');\n    const [password, setPassword] = useState('');\n\n    function validateForm() {\n        return usuario.length > 0 && password.length > 0;\n    }\n\n    async function handleSubmit() {\n        auth.login(usuario, password, props);\n    }\n\n    return (\n        <Grid\n            container\n            spacing={0}\n            direction=\"column\"\n            alignItems=\"center\"\n            justify=\"center\"\n            style={{ minHeight: '100vh' }}\n        >\n            <Paper\n                elevation={5}\n                style={{\n                    flexDirection: 'column',\n                    display: 'flex',\n                    padding: 60\n                }}\n            >\n                <TextField\n                    variant=\"outlined\"\n                    id=\"standard-basic\"\n                    label=\"Usuario\"\n                    style={{ marginBottom: 20 }}\n                    value={usuario}\n                    onChange={(e) => setUsuario(e.target.value)}\n                />\n                <TextField\n                    variant=\"outlined\"\n                    id=\"standard-basic\"\n                    label=\" ContraseÃ±a \"\n                    style={{ marginBottom: 20 }}\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                />\n                <Button\n                    disabled={!validateForm()}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={() => handleSubmit()}\n                >\n                    Acceder\n                </Button>\n            </Paper>\n        </Grid>\n    );\n};\n\nexport default Login;\n"],"names":["token","localStorage","getItem","headers","this","login","usuario","password","props","console","log","concat","process","axios","post","then","resp","setItem","data","history","push","catch","err","alert","e","logout","authenticated","removeItem","validarToken","get","setUsuario","useState","setPassword","_jsx","Grid","container","spacing","direction","alignItems","justify","style","minHeight","children","_jsxs","Paper","elevation","flexDirection","display","padding","TextField","variant","id","label","marginBottom","value","onChange","target","Button","disabled","length","color","onClick","async","auth","handleSubmit"],"sourceRoot":""}