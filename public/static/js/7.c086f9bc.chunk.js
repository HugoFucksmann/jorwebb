(this.webpackJsonpjorweb=this.webpackJsonpjorweb||[]).push([[7],{331:function(e,t,n){"use strict";n.r(t);var a=n(7),o=n.n(a),r=n(12),c=n(21),i=n(0),s=n(209),u=n(121),l=n(227),h=n(217),p=n(37),f=n(38),g=n(18),d=n.n(g),b=new(function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,[{key:"token",get:function(){return localStorage.getItem("token")||""}},{key:"headers",get:function(){return{headers:{"x-token":this.token}}}},{key:"login",value:function(){var e=Object(r.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("".concat("https://jorweb.herokuapp.com/api","/login")),e.prev=1,e.next=4,d.a.post("".concat("https://jorweb.herokuapp.com/api","/login"),{usuario:t,password:n}).then((function(e){localStorage.setItem("token",e.data.token),a.history.push("/fform")})).catch((function(e){console.log(e),alert("error al loguearse","","error")}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"logout",value:function(e){this.authenticated=!1,e.history.push("/"),localStorage.removeItem("token")}},{key:"validarToken",value:function(){return d.a.get("".concat("https://jorweb.herokuapp.com/api","/login/renew"),this.headers).then((function(e){return console.log(e)}))}}]),e}()),j=n(2);t.default=function(e){var t=Object(i.useState)(""),n=Object(c.a)(t,2),a=n[0],p=n[1],f=Object(i.useState)(""),g=Object(c.a)(f,2),d=g[0],k=g[1];function v(){return(v=Object(r.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b.login(a,d,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(j.jsx)(s.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:Object(j.jsxs)(u.a,{elevation:5,style:{flexDirection:"column",display:"flex",padding:60},children:[Object(j.jsx)(l.a,{variant:"outlined",id:"standard-basic",label:"Usuario",style:{marginBottom:20},value:a,onChange:function(e){return p(e.target.value)}}),Object(j.jsx)(l.a,{variant:"outlined",id:"standard-basic",label:" Contrase\xf1a ",style:{marginBottom:20},value:d,onChange:function(e){return k(e.target.value)}}),Object(j.jsx)(h.a,{disabled:!(a.length>0&&d.length>0),variant:"contained",color:"primary",onClick:function(){return function(){return v.apply(this,arguments)}()},children:"Acceder"})]})})}}}]);
//# sourceMappingURL=7.c086f9bc.chunk.js.map